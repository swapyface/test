import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Load your CSV file
# Replace 'your_file.csv' with the actual path to your CSV
df = pd.read_csv('your_file.csv')

# Convert "inlier" and "outlier" to numerical values
# "inlier" = 0, "outlier" = 1 (or you can switch these if preferred)
df['anomaly_score'] = df['ISOutlier'].apply(lambda x: 1 if x == 'outlier' else 0)

# Select the columns you want to include in the heatmap (excluding the target variable 'ISOutlier')
# Here we assume you want to analyze the correlation between features and the anomaly score
features = df.drop(columns=['ISOutlier', 'anomaly_score'])  # Drop the 'ISOutlier' column and the 'anomaly_score' column

# Add the 'anomaly_score' to the features DataFrame for the heatmap
features['anomaly_score'] = df['anomaly_score']

# Generate a heatmap of correlation between features and anomaly score
plt.figure(figsize=(10, 6))
sns.heatmap(features.corr(), annot=True, cmap='coolwarm', fmt='.2f', linewidths=0.5)
plt.title('Correlation Heatmap of Features and Anomaly Scores')
plt.show()
