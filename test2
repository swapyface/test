import pandas as pd
import numpy as np
from sklearn.metrics import confusion_matrix

# Sample DataFrame (Replace this with your actual data)
df = pd.DataFrame({
    'rating': ['A', 'A', 'B', 'B', 'C', 'C', 'A', 'B', 'C', 'A'],
    'ground_truth': [1, 0, 1, 1, 0, 0, 1, 0, 1, 0],
    'model_predicted': [1, 0, 0, 1, 1, 0, 1, 0, 0, 1]
})

# Get unique ratings
unique_ratings = df['rating'].unique()

# Compute and print confusion matrix for each rating
for rating in unique_ratings:
    subset = df[df['rating'] == rating]
    y_true = subset['ground_truth']
    y_pred = subset['model_predicted']
    
    cm = confusion_matrix(y_true, y_pred)
    
    print(f"Confusion Matrix for rating '{rating}':\n{cm}\n")
